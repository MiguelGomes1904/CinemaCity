<!-- Checkout Seats Template for Cinema City -->
{{<layout}}
{{$main}}

<button class="close-btn" onclick="window.history.back();">
    <i class="fas fa-times"></i>
</button>

<div class="seats-container" id="seatsContainer">
    <!-- Info Panel -->
    <div class="info-panel">
        <div>
            <h2 id="cinemaName">Cinema Alegro</h2>
            <div class="cinema-address" id="cinemaAddress">
                Avenida dos Cavaleiros 60,<br>
                Portela de Carnaxide - 2790-045 Carnaxide
            </div>

            <div class="movie-info">
                <h3>Sessão</h3>
                <div class="movie-title" id="movieTitle">Título do Filme</div>
                <div class="movie-details" id="sessionDateTime">2026-01-10 • 14:00</div>
            </div>
        </div>

        <div>
            <div class="price-section">
                <div class="seats-count">
                    <span id="selectedSeatsCount">0</span> Lugar<span id="pluralS">es</span>
                </div>
                <div class="total-price">
                    Total: <strong id="totalPrice">0,00€</strong>
                </div>
                <div class="price-note">* IVA incluído</div>
            </div>

            <div class="action-buttons">
                <button class="btn-custom btn-cancel" onclick="window.history.back();">Cancelar</button>
                <button class="btn-custom btn-checkout" id="checkoutBtn" onclick="proceedToCheckout();" disabled>Confirmar</button>
            </div>
        </div>
    </div>

    <!-- Seats Panel -->
    <div class="seats-panel">
        <div class="screen-label">Ecrã</div>
        <div id="seatsError" class="error-message" style="display: none;"></div>
        <div class="seats-grid" id="seatsGrid">
            <div class="loading">
                <i class="fas fa-spinner fa-spin"></i> Carregando assentos...
            </div>
        </div>

        <div class="legend">
            <div class="legend-item">
                <div class="legend-seat selected"></div>
                <span>Selecionado</span>
            </div>
            <div class="legend-item">
                <div class="legend-seat reserved"></div>
                <span>Reservado</span>
            </div>
            <div class="legend-item">
                <div class="legend-seat"></div>
                <span>Livre</span>
            </div>
        </div>
    </div>
</div>

{{/main}}
{{/layout}}
